## 목적

이 문서는 GitHub Issue #1(애플리케이션 Azure 호스팅)에 대한 요구사항을 수집하고 설계 전제, 기능·비기능 요구사항, 규정·보안 요구사항, 운영 요구사항 및 열린 질문을 정리합니다.

## 범위

- 배포 대상: `ZavaStorefront` 웹 애플리케이션
- 환경: 스테이징(staging) 및 프로덕션(production)
- 산출물: 아키텍처 다이어그램, IaC(템플릿), CI/CD 워크플로, 모니터링/런북

## 전제(Assumptions)

- 애플리케이션은 컨테이너(권장) 또는 App Service로 배포 가능
- Azure 구독과 적절한 권한(리소스 생성 가능)을 사용
- 민감 정보는 Key Vault로 관리
- 트래픽 프로파일은 초기에는 낮음(수백 RPS 미만)으로 가정

## 기능 요구사항

- 웹(HTTP/HTTPS) 요청 처리
- 정적 파일 서빙(현재 `wwwroot` 사용)
- 세션 상태(서버 메모리 또는 분산 캐시) 유지
- 외부 API 호출(있으면 아웃바운드 네트워크 허용)

## 비기능 요구사항

- 가용성: 99.9% 목표(서비스 플랜/인스턴스 복제 필요)
- 성능: P95 응답시간 < 500ms(초기 목표)
- 확장성: 수직/수평 자동 스케일링 지원
- 보안: TLS(HTTPS) 적용, Key Vault 사용, Managed Identity 권장
- 백업: DB 자동 백업 및 리스토어 플랜

## 규정/컴플라이언스

- 사용자 개인정보가 있다면 데이터 보관/암호화 및 지역 규정 확인 필요
- 감사 로그는 Log Analytics/Azure Monitor에 집계

## 운영 및 모니터링 요구사항

- Application Insights로 애플리케이션 모니터링
- Log Analytics에 로그 중앙화, 주요 경보(응답시간, 5xx, CPU/메모리)를 설정
- 배포 안심을 위한 스테이징/프로덕션 분리 및 헬스체크 엔드포인트 필요

## 배포 요구사항

- IaC로 리소스(리소스 그룹, VNet, 스토리지, DB, App Service/AKS, Key Vault) 선언
- GitHub Actions를 사용한 CI/CD 파이프라인(빌드 → 컨테이너 푸시 → 배포)

## 오픈 질문

1. 목표 구독 및 리소스 그룹 네이밍 컨벤션은 무엇인가?
2. 데이터베이스로 Azure SQL을 사용할지, 또는 다른 매니지드 DB(예: PostgreSQL) 선호하는가?
3. 트래픽 예측(동시 사용자, RPS) 및 예산 제약이 있는가?
4. 외부 연결(퍼블릭 엔드포인트 허용 여부)과 네트워크 격리 필요성 여부?

---

다음 단계: 위 요구사항을 확정한 뒤 고수준 아키텍처 설계를 진행합니다.
